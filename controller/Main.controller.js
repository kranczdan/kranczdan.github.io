sap.ui.define(["test/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,n,i){"use strict";return e.extend("test.controller.Main",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("Main").attachPatternMatched(this.onPatternMatched,this);this.setContentDensity()},onAfterRendering:function(){this.getView().setModel(new t({keys:["Vollkasko","Teilkasko"],range:[0,500]}),"filter")},onPatternMatched:function(){let e=false;if(this.getView().byId("idTable").getSelectedContexts().length>1){e=true}this.getView().setModel(new t({itemsLength:this.getView().byId("idTable").getItems().length,compareEnabled:e,fBExpanded:false}),"detail")},onTableSelectionChanged:function(e){if(this.getView().byId("idTable").getSelectedContexts().length>1){this.getView().getModel("detail").setProperty("/compareEnabled",true)}else{this.getView().getModel("detail").setProperty("/compareEnabled",false)}},onNavToDetail:function(e){this.getOwnerComponent().getRouter().navTo("Detail",{id:e.getSource().getBindingContext().getPath().split("/")[2]})},onSearch:function(){let e=[];let t=this.getView().getModel("filter").getData();if(t.keys.length!==0){t.keys.forEach(t=>{e.push(new n("type",i.EQ,t))})}if(t.range.length!==0){let o=[];o.push(new n("pricePerMonth",i.GE,t.range[0]));o.push(new n("pricePerMonth",i.LE,t.range[1]));e.push(new n(o,true))}this.getView().byId("idTable").getBinding("items").filter(e)},onReset:function(){this.getView().setModel(new t({keys:["Vollkasko","Teilkasko"],range:[0,500]}),"filter");this.onSearch()},onCompare:function(e){let t=this.getView().byId("idTable").getSelectedContexts();let n="";t.forEach(e=>{n+=e.getPath().split("/")[2]+";"});this.getOwnerComponent().getRouter().navTo("Compare",{ids:n.slice(0,-1)})}})});